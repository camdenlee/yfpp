{% extends "yfpp/base.html" %}
{% block content %}
<div class="restart"><a class="link toggle-button closed" href="#" title="Find your fucking polling place">Look for your fucking polling place, again? I apparently have nothing better to do than help your ass all fucking day.</a>
<form class="address-form group toggle-container" action="/fucking-check/" method="post">
{% csrf_token %}
<fieldset class="fadeInDownBig">
  <label for="address">Your Fucking Address</label>
  <input type="text" name="address" class="text-field" placeholder="Your full fucking street address goes here, including city &amp; zip" />

<span class="icon-search"><input class='submit' type="submit" value="Find It Already" /></span></fieldset>
</form></div>
<div class="address-container clearfix sixcol first">
{% if status == 'success' %}
<h3 class="locations-heading"><i class="icon-arrow-down"></i>You can vote at th{{ addresses|length|pluralize:"is,ese"  }} fucking location{{ addresses|length|pluralize }}:</h3>{% endif %}
{% for address in addresses %}
  {% if forloop.first %}
<ul class="address-list">
  {% endif %}  
    <li class="address-list-item"><i class="icon-location"></i>
      <address itemscope itemtype="http://data-vocabulary.org/Organization">
	
	 <h2 itemprop="name">{{ address.locationName|capfirst|safe }}</h2>
	
	<div itemprop="address" itemscope itemtype="http://data-vocabulary.org/Address">
	 <p itemprop="street-address">{{ address.line1|capfirst }}</p>
<p><span itemprop="locality">{{ address.city|capfirst }}</span>,
<span itemprop="region">{{ address.state|upper }}</span>
<span itemprop="postal-code">{{ address.zip }}</span></p>
	</div>
      </address>
      <span><a href="https://maps.google.com/maps?q={{ address.line1|urlencode }}%20{{ address.city|capfirst|urlencode }}%2C%20{{ address.state }}%20{{ address.zip }}" class="map" target="_blank">This is a map</a><br />
      <span><a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fyourfuckingpollingplace.com%2F&" class="tell-friends" data-location="{{ address.locationName|capfirst|safe }}" data-city="{{ address.city|upper|capfirst }}" data-state="{{ address.state|upper }}">Post this shit to Facebook</a> | 
        <a href="https://twitter.com/intent/tweet?text=I%20vote%20at%20{{ address.locationName|capfirst|safe|urlencode }}%2C%20where%20the%20fuck%20do%20you%20vote%3F%20Find%20out%20at&url=http%3A%2F%2Fyourfuckingpollingplace.com%2F&original_referer=http://test.armygrade.com:8000/client/" class="tweet">Tweet this shit</a></span>
    </li>
{% if forloop.last %}
</ul>
{% endif %}

{% empty %}
  <p>What the fuck is this?</p>
  {% if status == 'addressUnparseable' %}<p>We couldn't find your fucking address. Did you enter your full street address? It needs to be "Your Fucking Street, Your Fucking Town, CA 12345" <a href="/?ugh=tryagain" class="try-again">Try again</a><p>{% endif %}
  {% if status == 'noStreetSegmentFound' %}<p>Our data provider couldn't find reliable data about the address you entered. Check with your state's fucking board of elections for your fucking polling location or <a href="/?ugh=tryagain" class="try-again">Try again</a></p>{% endif %}
{% endfor %}
</div>

{% if contests %}
<div class="candidate-container clearfix sixcol last">
<h3 class="candidate-heading"><i class="icon-arrow-down"></i>This is who you can fucking vote for:</h3>
<ul class="candidate-list">
  {% for contest in contests %}
    <li class="candidate-list-item"><h4 class="office-title">{{ contest.office }}</h4>
      <ul class="candidate-list">
        {% for candidate in contest.candidates %}
        <li class="candidate-list-item">
          <span class="candidate-name"><a href="{{ candidate.candidateUrl }}" class="candidate-homepage candidate-link" data-contest="{{ contest.office }}" data-candidate="{{ candidate.name }}" data-channeltype="homepage">{{ candidate.name }}</a></span> <span class="candidate-party">({{ candidate.party }})</span>
          <ul class="channel-list">
          {% for channel in candidate.channels %}
            <li class="channel-list-item">
             <a href="{{ channel.id }}" class="candidate-channel candidate-link {{ channel.type }}" data-channeltype="{{ channel.type }}">{{ channel.type }}</a>
          </li>
          {% endfor %}
          </ul>
        </li>
        {% endfor %}
      </ul>
    </li>
  {% endfor %}

</div>
{% endif %}



<!--<div class="candidate-container clearfix sixcol last">
<h3 class="candidate-heading"><i class="icon-arrow-down"></i>You can vote for th{{ contests|length|pluralize:"is,ese"  }} fucking contest{{ contests|length|pluralize:",s" }}:</h3>
{% for address in addresses %}
  {% if forloop.first %}
<ul class="candidate-list">
  {% endif %}  
    <li class="candidate-list-item"><i class="icon-user"></i>
      <address itemscope itemtype="http://data-vocabulary.org/Organization">
	
	 <h2 itemprop="name">{{ address.locationName|capfirst|safe }}</h2>
	
	<div itemprop="address" itemscope itemtype="http://data-vocabulary.org/Address">
	 <p itemprop="street-address">{{ address.line1|capfirst }}</p>
<p><span itemprop="locality">{{ address.city|capfirst }}</span>,
<span itemprop="region">{{ address.state|upper }}</span>
<span itemprop="postal-code">{{ address.zip }}</span></p>
	</div>
      </address>
    </li>
{% if forloop.last %}
</ul>
{% endif %}

{% empty %}
  <p>Fuck off...I can't find your fucking polling location.<p>
{% endfor %}
</div>-->



{% endblock %}
